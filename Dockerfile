FROM node:alpine

WORKDIR /usr/app

COPY package*.json ./
RUN npm install

COPY . .

EXPOSE 4000

ARG CLIENT
ARG HOST
ARG PORT
ARG USER
ARG PASSWORD
ARG DATABASE
ENV CLIENT=$CLIENT
ENV HOST=$HOST
ENV PORT=$PORT
ENV USER=$USER
ENV PASSWORD=$PASSWORD
ENV DATABASE=$DATABASE

CMD ["npm", "run", "start"]